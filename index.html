<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Handmade Shop</title>

<style>
/* ----------- GLOBAL AESTHETIC STYLE ----------- */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap');

:root{
  --pink-1: #ffbfdc;
  --pink-2: #ff8abf;
  --pink-3: #ff3ca6;
  --bg-start: #2d0f18;
  --bg-end: #6d2b3a;
}

*{box-sizing:border-box}

body{
  font-family: "Poppins", Arial, sans-serif;
  background: linear-gradient(180deg, var(--bg-start), var(--bg-end));
  margin:0;
  padding:0;
  color:#ffd6ea;
  min-height:100vh;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* page container centers everything */
.container {
  max-width: 1000px;
  margin: 0 auto;
  padding: 36px 20px 80px;
}

/* Header */
.header{
  text-align:center;
  padding:12px 0 28px;
  font-size:36px;
  font-weight:700;
  color:var(--pink-3);
  text-shadow:0 6px 18px rgba(255,90,151,0.18);
  display:flex;
  justify-content:center;
  gap:10px;
  align-items:center;
}

/* PRODUCTS GRID */
.products{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(220px, 1fr));
  gap:26px;
  padding:0 0 28px;
}

/* product card aesthetic */
.product{
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  padding:14px;
  border-radius:16px;
  box-shadow: 0 8px 22px rgba(0,0,0,0.45);
  text-align:center;
  transition: transform .28s ease, box-shadow .28s ease;
  border: 1px solid rgba(255,255,255,0.03);
  backdrop-filter: blur(4px);
}
.product:hover{
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 18px 40px rgba(0,0,0,0.55);
}
.product img{
  width:100%;
  border-radius:12px;
  aspect-ratio: 4/3;
  object-fit:cover;
  margin-bottom:10px;
}
.product h3{ margin:6px 0 4px; color:#ffd6ea; font-weight:600; font-size:1.05rem;}
.product p{ margin:0 0 8px; color:#ffd6eacc; font-size:0.95rem; }

/* Buttons */
.cart-btn{
  background: linear-gradient(90deg, var(--pink-2), var(--pink-3));
  color:white;
  padding:10px 14px;
  border:none;
  border-radius:10px;
  cursor:pointer;
  font-weight:600;
  box-shadow:0 8px 20px rgba(255,60,166,0.12);
  transition: transform .18s ease, box-shadow .18s ease;
}
.cart-btn:hover{
  transform:translateY(-3px);
  box-shadow:0 18px 30px rgba(255,60,166,0.18);
}

/* SECTION TITLES */
.section-title{
  text-align:center;
  font-size:22px;
  margin:30px 0 12px;
  color:var(--pink-1);
  font-weight:700;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
}

/* ===== CART BAR (centered nice bar) ===== */
.cart-bar-wrap {
  display:flex;
  justify-content:center;
  margin-top:6px;
}
.cart-bar {
  width: 420px;
  max-width:90%;
  background: rgba(0,0,0,0.55);
  border-radius:16px;
  padding:12px 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  border: 1px solid rgba(255,255,255,0.03);
  color: #ffd6ea;
  text-align:left;
}

/* cart item list inside a centered card */
#cart {
  margin: 18px auto 6px;
  max-width:520px;
  background: linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.5));
  padding:14px;
  border-radius:12px;
  color:#ffd6ea;
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  border: 1px solid rgba(255,255,255,0.03);
}

/* CHECKOUT box centered and aesthetic */
.checkout-box{
  max-width:460px;
  margin: 18px auto 0;
  background: linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.6));
  padding:18px;
  border-radius:14px;
  box-shadow: 0 16px 40px rgba(0,0,0,0.55);
  border: 1px solid rgba(255,255,255,0.04);
}

/* inputs */
.checkout-box input{
  width:100%;
  padding:12px 14px;
  margin:8px 0;
  border-radius:8px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(255,255,255,0.04);
  color: #ffd6ea;
  outline:none;
  font-size:0.95rem;
}

/* placeholder color */
.checkout-box input::placeholder{
  color:#e6b9d0;
}

/* place order button smaller */
.checkout-box button{
  margin-top:8px;
  padding:8px 12px;
  border-radius:8px;
  border:none;
  background: linear-gradient(90deg,var(--pink-2),var(--pink-3));
  color:white;
  cursor:pointer;
  font-weight:700;
}

/* small screens adjustments */
@media (max-width:520px){
  .header{ font-size:28px; padding-bottom:18px; }
  .product{ padding:12px; border-radius:12px; }
  .cart-bar{ width: 90%; }
  .checkout-box{ width: 92%; padding:14px; }
}

/* subtle dotted stars in background for sparkle effect */
.bg-dots {
  position:fixed;
  inset:0;
  pointer-events:none;
  background-image: radial-gradient(rgba(0,0,0,0.35) 1px, transparent 1px);
  background-size: 60px 60px;
  opacity:0.25;
}
</style>

</head>
<body>

<!-- decorative dotted background -->
<div class="bg-dots" aria-hidden="true"></div>

<div class="container">

  <div class="header">âœ¨ <span style="color:var(--pink-2)">My Handmade Shop</span> âœ¨</div>

  <!-- PRODUCTS GRID -->
  <div id="product-list" class="products" aria-live="polite"></div>

  <!-- CART BAR title and centered bar -->
  <div class="section-title">ðŸ›’ Your Cart</div>
  <div class="cart-bar-wrap">
    <div class="cart-bar" role="status" aria-live="polite">
      <strong>Items in cart:</strong> <span id="cartCount">0</span>
      <div style="height:8px;"></div>
      <div style="height:6px; width:100%; background: rgba(255,255,255,0.02); border-radius:6px;"></div>
    </div>
  </div>

  <!-- cart items card -->
  <div id="cart" aria-label="Cart contents"></div>

  <!-- CHECKOUT -->
  <div class="section-title">ðŸ“¦ Checkout</div>
  <div class="checkout-box" role="form" aria-labelledby="checkoutTitle">
    <form id="checkout-form">
      <input name="name" placeholder="Full Name" required>
      <input name="address" placeholder="Address" required>
      <input name="email" placeholder="Email" required>
      <button type="submit" class="cart-btn">Continue to Payment</button>
    </form>
  </div>

</div>

<!-- small subtle sparkles generated by JS (keeps page light) -->
<script>
(function makeSparkles(){
  // We already use dotted background; keep JS sparkles minimal in count
  for(let i=0;i<18;i++){
    let el = document.createElement('div');
    el.style.width = (2 + Math.random()*5) + 'px';
    el.style.height = el.style.width;
    el.style.borderRadius = '50%';
    el.style.position = 'fixed';
    el.style.left = Math.random()*100 + 'vw';
    el.style.top = Math.random()*100 + 'vh';
    el.style.background = 'rgba(255,255,255,0.08)';
    el.style.pointerEvents = 'none';
    el.style.transform = 'translate(-50%, -50%)';
    el.style.opacity = 0.8 * Math.random();
    document.body.appendChild(el);
    // small fade animation
    el.animate([{opacity: el.style.opacity},{opacity:0.05},{opacity: el.style.opacity}],{
      duration: 3000 + Math.random()*4000,
      iterations: Infinity,
      direction: 'alternate',
      easing: 'ease-in-out'
    });
  }
})();
</script>

<!-- JS Logic (unchanged behaviour) -->
<script>
let products = JSON.parse(localStorage.getItem("products")) || [];

// sample if no products (safe)
if(!products || products.length === 0){
  // keep this commented if you already use admin to add real items
  products = [
    {name:'Rosy Heart Trinket', price:299, img:'https://images.unsplash.com/photo-1545235617-9465b5a5f02f?q=80&w=800&auto=format&fit=crop'},
    {name:'Pink Macrame', price:499, img:'https://images.unsplash.com/photo-1519710164239-da123dc03ef4?q=80&w=800&auto=format&fit=crop'},
    {name:'Glitter Soap', price:199, img:'https://images.unsplash.com/photo-1585238342022-2c0e6b0a1d8b?q=80&w=800&auto=format&fit=crop'}
  ];
  // DO NOT auto-save here; admin can add real items later
}

// Display products
function renderProducts(){
  let list=document.getElementById("product-list");
  list.innerHTML="";
  products.forEach((p,i)=>{
    list.innerHTML+=`
      <div class="product" role="article">
        <img src="${p.img}" alt="${p.name}">
        <h3>${p.name}</h3>
        <p>â‚¹${p.price}</p>
        <button class="cart-btn" onclick="addToCart(${i})" aria-label="Add ${p.name} to cart">Add to cart</button>
      </div>`;
  })
}
renderProducts();

// load cart from storage
let cart = JSON.parse(localStorage.getItem("cart")) || [];

function addToCart(i){
  cart.push(products[i]);
  localStorage.setItem("cart", JSON.stringify(cart));
  renderCart();
}

function renderCart(){
  let c=document.getElementById("cart");
  c.innerHTML="";
  if(cart.length===0){
    c.innerHTML = '<div style="padding:12px; color:#ffd6eacc; text-align:center">Your cart is empty</div>';
  } else {
    // build list
    let html = '<ul style="list-style:none; padding:0; margin:0;">';
    cart.forEach((p,i)=>{
      html += `<li style="display:flex; justify-content:space-between; align-items:center; padding:8px 6px; border-bottom:1px dashed rgba(255,255,255,0.04);">
        <div style="flex:1; text-align:left;">
          <div style="font-weight:600; color:#ffd6ea">${p.name}</div>
          <div style="font-size:0.85rem; color:#ffd6eaaa">â‚¹${p.price}</div>
        </div>
        <div style="margin-left:12px;">
          <button style="background:transparent; border:none; color:#ffb3db; cursor:pointer; font-weight:700;" onclick="removeFromCart(${i})">Remove</button>
        </div>
      </li>`;
    });
    html += '</ul>';
    // total
    const total = cart.reduce((s,i)=>s+i.price,0);
    html += `<div style="padding:10px; text-align:right; font-weight:700; color:#ffd6ea">Total: â‚¹${total}</div>`;
    c.innerHTML = html;
  }
  document.getElementById('cartCount').textContent = cart.length;
}
renderCart();

function removeFromCart(i){
  cart.splice(i,1);
  localStorage.setItem("cart", JSON.stringify(cart));
  renderCart();
}

// Checkout submit
document.getElementById("checkout-form").onsubmit = (e)=>{
  e.preventDefault();
  if(cart.length===0){ alert('Your cart is empty'); return; }

  let data = {
    name: e.target.name.value,
    address: e.target.address.value,
    email: e.target.email.value,
    cart: cart
  };

  localStorage.setItem("order", JSON.stringify(data));
  // in your project you used order.html
  window.location.href = "payment.html";
};
</script>

</body>
</html>

